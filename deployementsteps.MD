## System Requirements:
* These are the System Requirements
  * Ubuntu 16 or later
  * Psql RDS  *


## Software Requirements:
  * Install these softwares in Server
     * Node 12
     * NPM latest
     * NVM latest 
     * PM2
     * Nginx
  *  Navigate to our centralized repository and clone the clode
      ```
      git clone <repo path>
      
      ```

  *  Cloning our GitHub Repository
     * Possible methods are:
         * Filezilla
         * Sync
         * Scp
         * CICD Tools ( For Continuous integrating continuous deployment)

 ## Steps for Build application:
   * Build steps:
  ```
     source ~/.nvm/nvm.sh 
     npm i -g yarn  
     yarn install 
  ```
  * Copy .env file to root path:
  
 ```
    cp credential/.env.development_1  /home/ubuntu/ludis-node
 ```

  ## Start pm2:
  * For starting Pm2 run below command
 ```
    NODE_ENV=development_1 pm2 start bin/www
 ```
 ## Steps for Restart PM2:
 * For Restarting pm2 run below command
 ```
     pm2 restart all
 ```
## Db migrating steps:
* For Db migrating run below command
```
  npm run dbmigrate:development_1
```
## How to check logs:
* For checking pm2 logs run this command
```
   pm2 logs
```
* Nginx configuration and forward proxy :
 *  Application running on someother port for running 80 port we are using forwardproxy
 *  Change default nginx configuration file 
 *  open default nginx configuration file
     ```  
     sudo  vi /etc/nginx/sites-enabled/default
    ```
*  clear this file and add below configuration



```
    server {
        listen 80;
        listen [::]:80;

        # SSL configuration
        #
    listen 443 ssl;
        listen [::]:443 ssl;
        #
        # Self signed certs generated by the ssl-cert package
        # Don't use them in a production server!
        #
        # include snippets/snakeoil.conf;

#        root /var/www/html;

        # Add index.php to the list if you are using PHP
        index index.html index.htm index.nginx-debian.html;

        server_name <domainname> ;
       ssl_certificate  <ssl bundle.crt path>;
        ssl_certificate_key <ssl private.key path >;

  location / {
    proxy_pass http://localhost:3005;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection 'upgrade';
    proxy_set_header Host $host;
    proxy_cache_bypass $http_upgrade;
    proxy_read_timeout 300;
    proxy_connect_timeout 300;
}

  underscores_in_headers on;
  location /public {
    root /home/ubuntu/ludis-node;
  }
}

```
       

*  check configuration syntax
   ```
   sudo  nginx -t
   ```
*  Restart nginx
    ```
    sudo  service nginx restart
    ```
*  for checking nginx logs
   ```
      Tail -f /var/log/nginx/access.log
      Tail -f /var/log/nginx/error.log
    ```

